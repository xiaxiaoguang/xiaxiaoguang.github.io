<html>
  <head>
    <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>ZRA班D1 | 夏晓光(loveJY)的博客</title>
<link rel="shortcut icon" href="https://xiaxiaoguang.github.io/favicon.ico?v=1610375931149">
<link href="https://cdn.jsdelivr.net/npm/remixicon@2.3.0/fonts/remixicon.css" rel="stylesheet">
<link rel="stylesheet" href="https://xiaxiaoguang.github.io/styles/main.css">
<link rel="alternate" type="application/atom+xml" title="ZRA班D1 | 夏晓光(loveJY)的博客 - Atom Feed" href="https://xiaxiaoguang.github.io/atom.xml">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Droid+Serif:400,700">



    <meta name="description" content="ZJOI2020密码
你有个大素数P,1e15~1e18
然后有个%P意义下的未知数x
每次告诉你ai∗xa_i*x%Pai​∗x的值
但是会给你一个误差!
+-0.01P的范围内(喂喂喂!)
给你50组信息希望你回答出x
error&lt..." />
    <meta name="keywords" content="ZJOI,题目集合,培训题,贪心" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
    <script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
  </head>
  <body>
    <div class="main">
      <div class="main-content">
        <div class="site-header">
  <a href="https://xiaxiaoguang.github.io">
  <img class="avatar" src="https://xiaxiaoguang.github.io/images/avatar.png?v=1610375931149" alt="">
  </a>
  <h1 class="site-title">
    夏晓光(loveJY)的博客
  </h1>
  <p class="site-description">
    仍要向下扎根,向上结果
  </p>
  <div class="menu-container">
    
      
        <a href="/" class="menu">
          首页
        </a>
      
    
      
        <a href="/archives" class="menu">
          归档
        </a>
      
    
      
        <a href="/tags" class="menu">
          标签
        </a>
      
    
      
        <a href="/post/about" class="menu">
          关于
        </a>
      
    
      
        <a href="https://xiaxiaoguang.github.io/post/you-lian" class="menu">
          友链
        </a>
      
    
  </div>
  <div class="social-container">
    
      
    
      
    
      
    
      
    
      
    
  </div>
</div>

        <div class="post-detail">
          <article class="post">
            <h2 class="post-title">
              ZRA班D1
            </h2>
            <div class="post-info">
              <span>
                2020-08-21
              </span>
              <span>
                10 min read
              </span>
              
                <a href="https://xiaxiaoguang.github.io/tag/RVtqG6U5z/" class="post-tag">
                  # ZJOI
                </a>
              
                <a href="https://xiaxiaoguang.github.io/tag/ptq-n3C75J/" class="post-tag">
                  # 题目集合
                </a>
              
                <a href="https://xiaxiaoguang.github.io/tag/GZNzWf9EG/" class="post-tag">
                  # 培训题
                </a>
              
                <a href="https://xiaxiaoguang.github.io/tag/m-043j5Q1/" class="post-tag">
                  # 贪心
                </a>
              
            </div>
            
              <img class="post-feature-image" src="http://r.photo.store.qq.com/psc?/V13b3duC210Fox/45NBuzDIW489QBoVep5mcSUS6*Dq3BynFX7tDLTTSlx.XO65tjqC5bAdHky5sVCc67EKJ8WRMjcDYKxt2P5AxwoyBpaNAh660xS*DAxpdjI!/r" alt="">
            
            <div class="post-content-wrapper">
              <div class="post-content">
                <p>ZJOI2020密码</p>
<p>你有个大素数P,1e15~1e18</p>
<p>然后有个%P意义下的未知数x</p>
<p>每次告诉你<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>a</mi><mi>i</mi></msub><mo>∗</mo><mi>x</mi></mrow><annotation encoding="application/x-tex">a_i*x%P</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.61528em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">x</span></span></span></span>的值</p>
<p>但是会给你一个误差!</p>
<p>+-0.01P的范围内(喂喂喂!)</p>
<p>给你50组信息希望你回答出x</p>
<p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>e</mi><mi>r</mi><mi>r</mi><mi>o</mi><mi>r</mi><mo>&lt;</mo><mn>1</mn><mi>e</mi><mn>6</mn></mrow><annotation encoding="application/x-tex">error&lt;1e6</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathdefault">e</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">o</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord mathdefault">e</span><span class="mord">6</span></span></span></span>,直接枚举 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>a</mi><mn>1</mn></msub><mo>∗</mo><mi>x</mi><mi>m</mi><mi>o</mi><mi>d</mi><mi>P</mi></mrow><annotation encoding="application/x-tex">a_1*x mod P</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.61528em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">x</span><span class="mord mathdefault">m</span><span class="mord mathdefault">o</span><span class="mord mathdefault">d</span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span></span></span></span> 即可,然后check期望O1一下就会出错的</p>
<p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>e</mi><mi>r</mi><mi>r</mi><mi>o</mi><mi>r</mi><mo>&lt;</mo><mn>1</mn><mi>e</mi><mn>11</mn></mrow><annotation encoding="application/x-tex">error&lt;1e11</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathdefault">e</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">o</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord mathdefault">e</span><span class="mord">1</span><span class="mord">1</span></span></span></span></p>
<p>a_1x&lt;=1e11</p>
<p>a_2x&lt;=1e11...</p>
<p>如果认为他们是独立的,因为P为1e18,所以一次指数上会少7种可能</p>
<p>前两个方程中只有1e4个可能的x</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>L</mi><mn>1</mn></msub><mo>&lt;</mo><mo>=</mo><msub><mi>a</mi><mn>1</mn></msub><mi>x</mi><mi>m</mi><mi>o</mi><mi>d</mi><mi>P</mi><mo>&lt;</mo><mo>=</mo><msub><mi>R</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">L_1&lt;=a_1x mod P&lt;=R_1
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault">x</span><span class="mord mathdefault">m</span><span class="mord mathdefault">o</span><span class="mord mathdefault">d</span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.00773em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span></p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>L</mi><mn>2</mn></msub><mo>&lt;</mo><mo>=</mo><msub><mi>a</mi><mn>2</mn></msub><mi>x</mi><mi>m</mi><mi>o</mi><mi>d</mi><mi>P</mi><mo>&lt;</mo><mo>=</mo><msub><mi>R</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">L_2&lt;=a_2x mod P&lt;=R_2
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault">x</span><span class="mord mathdefault">m</span><span class="mord mathdefault">o</span><span class="mord mathdefault">d</span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.00773em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span></p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>y</mi><mo>=</mo><msub><mi>a</mi><mn>1</mn></msub><mi>x</mi><mi>m</mi><mi>o</mi><mi>d</mi><mi>p</mi></mrow><annotation encoding="application/x-tex">y=a_1xmod p
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault">x</span><span class="mord mathdefault">m</span><span class="mord mathdefault">o</span><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span></span></span></span></span></p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>a</mi><mn>2</mn></msub><mi>x</mi><mo>=</mo><msub><mi>a</mi><mn>2</mn></msub><msubsup><mi>a</mi><mn>1</mn><mrow><mo>−</mo><mn>1</mn></mrow></msubsup><mi>y</mi><mi>m</mi><mi>o</mi><mi>d</mi><mi>p</mi></mrow><annotation encoding="application/x-tex">a_2x=a_2a_1^{-1}y modp
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.1205469999999997em;vertical-align:-0.256439em;"></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-2.4435610000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.256439em;"><span></span></span></span></span></span></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mord mathdefault">m</span><span class="mord mathdefault">o</span><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span></span></span></span></span></p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>L</mi><mn>1</mn></msub><mo>&lt;</mo><mo>=</mo><mi>y</mi><mo>&lt;</mo><mo>=</mo><msub><mi>R</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">L_1&lt;=y&lt;=R_1
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.7335400000000001em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.00773em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span></p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>L</mi><mn>2</mn></msub><mo>&lt;</mo><mo>=</mo><mi>A</mi><mi>y</mi><mi>m</mi><mi>o</mi><mi>d</mi><mi>P</mi><mo>&lt;</mo><mo>=</mo><msub><mi>R</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">L_2&lt;=AymodP&lt;=R_2
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">A</span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mord mathdefault">m</span><span class="mord mathdefault">o</span><span class="mord mathdefault">d</span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.00773em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span></p>
<p>其实魔改扩欧能求axmodp在一定范围内最小整数解</p>
<p>考虑分成T块</p>
<p>y=l,l+1....l+T-1....l+2T-1</p>
<p>会发现两块之间是整体加上<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi><mi>T</mi><mi>m</mi><mi>o</mi><mi>d</mi><mi>P</mi></mrow><annotation encoding="application/x-tex">ATmodP</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">A</span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mord mathdefault">m</span><span class="mord mathdefault">o</span><span class="mord mathdefault">d</span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span></span></span></span></p>
<p>所以我们按道理来讲也是每块连续的一段的,包括开头和结尾连续的一段!</p>
<p>....].....[.......这样子...可以二分</p>
<p>std?</p>
<p>我们注意到<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi><mi>x</mi><mi>m</mi><mi>o</mi><mi>d</mi><mi>p</mi></mrow><annotation encoding="application/x-tex">Ax mod p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">A</span><span class="mord mathdefault">x</span><span class="mord mathdefault">m</span><span class="mord mathdefault">o</span><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span></span></span></span>在某个区间内</p>
<p>当A大的时候很难受,但A很小的时候</p>
<p>eg:<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>10</mn><mi>x</mi><mi>m</mi><mi>o</mi><mi>d</mi><mi>p</mi><mo>=</mo><mo>[</mo><mn>0</mn><mo separator="true">,</mo><mn>1</mn><mi>e</mi><mn>16</mn><mo>]</mo></mrow><annotation encoding="application/x-tex">10x mod p=[0,1e16]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord mathdefault">x</span><span class="mord mathdefault">m</span><span class="mord mathdefault">o</span><span class="mord mathdefault">d</span><span class="mord mathdefault">p</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mord mathdefault">e</span><span class="mord">1</span><span class="mord">6</span><span class="mclose">]</span></span></span></span></p>
<p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi><mi>x</mi><mo>∈</mo><mo>[</mo><mi>k</mi><mi>p</mi><mo separator="true">,</mo><mi>k</mi><mi>p</mi><mo>+</mo><mn>1</mn><mi>e</mi><mn>16</mn><mo>]</mo></mrow><annotation encoding="application/x-tex">Ax\in[kp,kp+1e16]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72243em;vertical-align:-0.0391em;"></span><span class="mord mathdefault">A</span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mord mathdefault">p</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mord mathdefault">p</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mord mathdefault">e</span><span class="mord">1</span><span class="mord">6</span><span class="mclose">]</span></span></span></span></p>
<p class='katex-block katex-error' title='ParseError: KaTeX parse error: Can&#039;t use function &#039;$&#039; in math mode at position 72: …or),k \in 0~A-1$̲$Error

会发现x的解能…'>x\in(\lceil \frac kp a \rceil,\lfloor \frac kp+E a \rfloor),k \in 0~A-1$$Error

会发现x的解能写成若干个区间的形式!

所以怎么让a变小?

m个方程里面取k个加起来qwq

如果每个误差都是1e16,每个搞一个符号$S_i\in{-1,1}$

$\sum a_i*S_i*x(mod P)$

其实这样就变成了1e16k的误差

会发现我们扩大了误差范围,但是缩小了A的范围!

现在就是要联立几个方程把前面系数搞得尽量小!

meet in middle

随机k个数字成为方程的子集

[0,1]间k个实数两两之间的差期望是$\frac 1 k^2$的!或者1/(k+1)^2

所以我们的k选取1e6就能把A搞到1e6级别!

而AxmodP,A是1e6我们的误差只是1e16~1e17

每次撞出一个区间可以使得剩下的数变少很多,约为90%

也是说我们每次随机5个方程的子集

我们能得到若干个x的取值区间,然后他们求一个交就好了....

这样整个题都过不了再优化一下就会变得比别人快很多的那种快

怎么卡hash?

1.meet in the middle

$(\sum_i a_ibase^i)%P$

随机根号p个然后自然相撞就会有很多相同的值...

3.tree attack

先把1e5个数字排成一列,值域1e18

然后两两做差,$a_2-a_1,a_4-a_3....$

他们差值期望是1e13级别的,数字规模/2

那么在这个序列里面递归做下去能找到一个解再原问题也能找到一个解了!

这样做着做着很快就矛盾了....

大概2000多个就能冲突了!

直接treeattack串长两千都让你完蛋

原问题

$\sum |S_i|&lt;=20$

$a_i$很少,直接treeattack做个两三轮

第二轮放$a_2-a_1,a_3-a_1,a_4-a_1...$

其余同理,不要求$S_i\in{-1,1}$

这样最多能有k组呢!

设立阈值m,每次把前m小的拿出来,然后做一轮误差放大两倍而已...

但是前面的系数变小的会很快!

所以每一轮保留的方程多一点就能让这个A下降的很快....

3.Multi-tree attack

维护m的最小可能的和???每个子集维护了m组可能的相减的方案

这东西能卡多模?

理理思路好像就是

1.联立方程组能让变小就能得到若干值域区间取交

2.多做几次求交

优化:还原,然后所有的方程都和y相关

保留在撞得过程中间的方程,随着数字变少后面a可以放得稍微大一点

ZJOI2020序列

你有一段长度为n的非负数序列

然后你可以每次选择一个区间,把这个区间所有数-1,下标为奇数位置-1,下标为偶数位置-1

最大流=最小割

是因为LP对偶

~~linear program....~~

求最大循环费用流..

上限为v,费用是w

要满足流量平衡,使得流量*费用最大!

给每个点一个标号$h_i$

使得$min \sum_{u,v\in E}max(h_u-h_v+w(u,v),0)*C_{u,v}$

w是费用C是上限

就是给每个点一个标号使得上面这个式子尽量小

那么如果要求上面那个就是求最大循环费用流

显然可以从 t向s连边,然后$=min\sum{c(u,v)}max(h_u-h_v,0)+\inf * max(h_s-h_t+1,0) &lt;=0$

$h_s&gt;=h_t+1$才能最小化inf啊

$h_s=1,h_t=0$

相当于把每个点分标0,1然后最小化流量可以看成分配给S,T两个点集,所以是最小割

CF1307G

假设我们做完之后每个点标号$d_i$

距离标号满足$d_v&lt;=d_u+L_e + x_{u,v}$

要求在$\sum{x,u,v}&lt;=x$最大化$d_t-d_s$

我们想向$min\sum{c(u,v)}max(h_u-h_v,0)$去凑

但是$d_t-d_s&gt;=\lambda$

$x_{u,v}&gt;=max(d_v-d_u-l_e,0)$

我们想要$d_u-d_v&lt;=t$

所以$\inf max(d_v-d_u+t,0)$

这个东西就和LP很一致了........

现在我们把v向u连条$(1,-t)$的边

inf那个就是s到t连边(inf,L)吧...

最大化L,使得最大cost&lt;=x

会发现我们每次增广的权值是单调递减的...

$f_i$表示从t到s走i的流量最小花费

整个图的最大流就是$max(iL+f_i)&lt;=x$

$L&lt;=min(x-f_i/i)$

最多增广n次

回到原题

只有区间-1?

最小值是$1/2\sum{a_i-a_{i+1}}$

$=\sum max{a_{i+1}-a_{i},0}$

$=\sum max{a_i-a_{i+1},0}$

noip题?

然后现在就是要跳着减

$a1...an$

$a1-xi$

$x_i&lt;a_i$

跳一个$x_i...x_n$

$max(x_i-x_{i-2},0)+max((x_i-x_{i-1})+(a_{i-1}-a_i))$

最小化这玩意,相当于把$a_i-a_i-1$当做权值...

还有$x_i&gt;=0,x_i&lt;=a_i$

对于第一个可以设置一个0,$x_0$

$x_i-x_0&gt;=0$
-&gt;
$max(x_0-x_i,0)\inf$

第二个?

$+max(x_i-y-a_i,0)\inf$

每个点连个流量,费用$-a_i,\inf$

然后循环起来就好了....

直接求复杂度不太对

考虑状压每个点的流量,每个点只有三条边,是一还是0

还有直接对偶.....但要会手推LP对偶

$h_u-h_v$的分段线性初函数都可以这么做的....

就是每一段都能拆成一个折线啊

然后每个函数加起来,就是若干个max加起来

左边是$h_u-h_v$,相当于每加一段就是多连了几条边

还有贪心!我命来了

如果$a_1&gt;0,a_2$也大于0    

那么从$a_1$出发一定选择连续的区间-1

否则$a_2$也是跳一个-1,就一定可以拆成新形势

a_2出发连续的,a_3开始跳,a_1变得连续

如果$a_1&lt;a_2$直接走下小的

$a_1&gt;a_2 ,min(a_1,a_2)$

考虑下a_2和a_3?

设一个从1开始时的决策为线段

前面有-&gt;跳&gt;为A

跳跳为B

$a_3&lt;A+B$

$a_3&gt;=A+B$

$K=A+B-a_3$个线头会被堵住qaq

但是有问题,这K个可能不能都是一个类型的

比如$A&lt;K$,说明我们额外要停掉一些B...

考虑$A_2$现在已经类似于开头的一个位置,那么能连就+1+1,剩下我们再连+2的线段

做完A2后把A3当成1,然后再让答案-K因为我们用free的边了

反正看看下面抄的代码吧还是很不错的....

```cpp

#include&lt;bits/stdc++.h&gt;
using namespace std;
#define int long long
const int MAXN = 1e5 + 7;
int A, B, C, D, K, tmpa, tmpb, ans;
int n, a[MAXN];
inline void init() {
	scanf(&quot;%lld&quot;, &amp;n);
	for(int i = 1; i &lt;= n; ++i)scanf(&quot;%lld&quot;, a + i);
	ans = 0;
	A = B = C = D = 0;
}

signed main() {
	int T;
	scanf(&quot;%lld&quot;, &amp;T);
	while(T-- &gt; 0) {
		init();
		for(int i = 2; i &lt;= n + 1; ++i) {
			if(a[i] &lt;= A + B) {
				K = A + B - a[i];
				if(B &lt; K)A -= K - B, K -= K - B;
				if(A &lt; K)B -= K - A, K	 -= K - A;
				A -= K, B -= K, D = K, a[i] -= K;
			}
			K = min(a[i - 1], a[i] -= A + B);
			a[i - 1] -= K;
			a[i] -= K;
			ans += K;
			A += K;
			C += a[i - 1];
			ans += a[i - 1];
			a[i - 1] = 0;
			ans -= D;
			a[i] += D;
			D = 0;
			swap(B, C);
		}
		printf(&quot;%lld\n&quot;, ans);
	}
	return 0;
}

```

ZJOI2020抽卡

你有m张卡,每次从里面抽卡,抽到连续编号为k的卡最少要几轮

</p>

              </div>
              <div class="toc-container">
                
              </div>
            </div>
          </article>
        </div>

        
          <div class="next-post">
            <div class="next">下一篇</div>
            <a href="https://xiaxiaoguang.github.io/post/sdoi2011/">
              <h3 class="post-title">
                SDOI2011
              </h3>
            </a>
          </div>
        

        
          
            <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
<script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>

<div id="gitalk-container"></div>

<script>

  var gitalk = new Gitalk({
    clientID: '1c71f40d2d18a0ac8466',
    clientSecret: '06ff9ddda58d869438ab8631f697626850a7e875',
    repo: 'Xiaoguangcomment',
    owner: 'xiaxiaoguang',
    admin: ['xiaxiaoguang'],
    id: (location.pathname).substring(0, 49),      // Ensure uniqueness and length less than 50
    distractionFreeMode: false  // Facebook-like distraction free mode
  })

  gitalk.render('gitalk-container')

</script>

          

          
        

        <div class="site-footer">
  Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a>
  <a class="rss" href="https://xiaxiaoguang.github.io/atom.xml" target="_blank">
    <i class="ri-rss-line"></i> RSS
  </a>
</div>

      </div>
    </div>

    <script>
      hljs.initHighlightingOnLoad()

      let mainNavLinks = document.querySelectorAll(".markdownIt-TOC a");

      // This should probably be throttled.
      // Especially because it triggers during smooth scrolling.
      // https://lodash.com/docs/4.17.10#throttle
      // You could do like...
      // window.addEventListener("scroll", () => {
      //    _.throttle(doThatStuff, 100);
      // });
      // Only not doing it here to keep this Pen dependency-free.

      window.addEventListener("scroll", event => {
        let fromTop = window.scrollY;

        mainNavLinks.forEach((link, index) => {
          let section = document.getElementById(decodeURI(link.hash).substring(1));
          let nextSection = null
          if (mainNavLinks[index + 1]) {
            nextSection = document.getElementById(decodeURI(mainNavLinks[index + 1].hash).substring(1));
          }
          if (section.offsetTop <= fromTop) {
            if (nextSection) {
              if (nextSection.offsetTop > fromTop) {
                link.classList.add("current");
              } else {
                link.classList.remove("current");    
              }
            } else {
              link.classList.add("current");
            }
          } else {
            link.classList.remove("current");
          }
        });
      });

    </script>
  </body>
</html>
